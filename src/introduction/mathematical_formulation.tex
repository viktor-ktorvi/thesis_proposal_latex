The mathematical formulation, keeping in mind that $\boldsymbol{\underline{V}} = \boldsymbol{V}e^{j\boldsymbol{\theta}}$, is the following:

\newcommand{\complexpower}{\underline{\boldsymbol{V}} \cdot \left(\underline{\boldsymbol{Y}}\underline{\boldsymbol{V}}\right)^*}

\begin{equation}
    \label{eq:opf_formulation}
    \begin{aligned}
        \min_{\boldsymbol{P}} \quad & f(\boldsymbol{P}; \boldsymbol{c})\\% \sum_{i=0}^{N - 1} f(P_i; c_i) \\
        \textrm{s.t.} %\quad & -P_i \ +  \sum_{j=0}^{N - 1} |V_i||V_j|\left(G_{ij} \cos \theta_{ij} + B_{ij} \sin \theta_{ij}\right) = 0 \qquad \forall i \in [0, N - 1]\\
        % \quad & -Q_i \ + \sum_{j=0}^{N - 1} |V_i||V_j|\left(G_{ij} \sin \theta_{ij} - B_{ij} \cos \theta_{ij}\right) = 0 \qquad \forall i \in [0, N - 1]\\
        \quad & \boldsymbol{P} + j\boldsymbol{Q} = \complexpower\\ \\
        \quad & \boldsymbol{V}_{min} \leq \boldsymbol{V} \leq \boldsymbol{V}_{max} \\
        \quad & \boldsymbol{P}_{min} \leq \boldsymbol{P} \leq \boldsymbol{P}_{max} \\
        \quad & \boldsymbol{Q}_{min} \leq \boldsymbol{Q} \leq \boldsymbol{Q}_{max}
    \end{aligned}
\end{equation}

\noindent where, for a grid consisting of $N$ nodes, $\boldsymbol{P}, \boldsymbol{Q}, \boldsymbol{V}, \boldsymbol{\theta} \in \mathbb{R}^N$ are vectors containing the
active and reactive powers and voltage magnitudes and angles, respectively, for each node and
$\boldsymbol{P}_{min}, \boldsymbol{P}_{max}, \boldsymbol{Q}_{min}, \boldsymbol{Q}_{max}, \boldsymbol{V}_{min}, \boldsymbol{V}_{max} \in \mathbb{R}^N$
are the corresponding technical constraints of the physical variables.
The matrix $\boldsymbol{\underline{Y}} \in \mathbb{C}^{N \times N}$ is called the admittance matrix
of the grid and represents a weighted adjacency matrix of the graph because the entry $\boldsymbol{\underline{Y}}_{ij}$ is equal
to zero where there is no connection between nodes $i$ and $j$, and contains physical properties of the line between the two otherwise.
The function $f$ parameterized by $\boldsymbol{c}$ is an arbitrary cost function but is often a polynomial i.e.
\[f(\boldsymbol{P}; \boldsymbol{c}) = \sum_{i=0}^{N - 1} \sum_{k=0}^n c_{ik}P_i^k\]

\noindent where $n$ is the degree of the polynomial.